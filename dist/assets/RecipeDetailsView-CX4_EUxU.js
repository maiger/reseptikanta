import{_ as k,b as M,o as p,c as g,F as I,r as y,t as h,d as N,e as o,u,p as b,f as j,g as B,h as E,i as V,j as w,k as v,l as R,B as A,I as m}from"./index-BeXAZbC-.js";function D(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P=function(e){let i;if(e<0?(e=Math.abs(e),i="-"):i="",e===void 0)return"Your input was undefined.";if(isNaN(e))return`"${e}" is not a number.`;if(e==1e16)return`${i}9999999999999999`;if(e>1e16)return"Too many digits in your integer to maintain IEEE 754 Floating Point conversion accuracy.";if(Number.isInteger(e))return`${i}${e}`;if(e<1e-6)return"0";const n=e.toString(),c=n.split(".");let s=c[0],t;if(t=="0"&&s!=="0")return s;if(t=="0"&&s=="0")return"0";if(n.length>=17?t=c[1].slice(0,c[1].length-1):t=c[1],t=="99"&&s!=="0")return`${s} 99/100`;if(t=="99"&&s=="0")return"99/100";if(1-parseFloat(`.${t}`)<.0011&&(t="999"),t==null)return s;const a=t.split("").reverse().join(""),d=/^(\d+)\1{1,2}/;let l=a.match(d);if(l&&t.length>2){let _=l[0].split("").reverse().join(""),r=l[1].split("").reverse().join("");if(r.length>1){let f=r.split(""),$=1;for(let S=0;S<f.length;S++)$/=f[0]/f[S];$===1&&(r=f[0])}return r.length>1&&r.length%2===0&&(r=parseInt(r.slice(0,r.length/2),10)-parseInt(r.slice(r.length/2,r.length),10)===0?r.slice(0,r.length/2):r),O(t,r,_,s,i)}else return x(t,s,i)};function O(e,i,n,c,s){const a=e.length-n.length>=1?e.length-n.length:1,d=Math.pow(10,a),l=parseFloat(`0.${e}`),_=Math.pow(10,i.length),r=Math.round((l*_-l)*Math.pow(10,a)),f=(_-1)*d;return C(r,f,c,s,!0)}function x(e,i,n){const s=parseInt(e,10),t=Math.pow(10,e.length);return C(s,t,i,n,!1)}function C(e,i,n,c,s){const t=[2,3,5];if(s===!0)for(let r=3;r*r<=e;r+=2)e%r===0&&t.push(r);let a=0,d=1,l=e,_=i;for(;a<=t.length;)l%t[a]===0&&_%t[a]===0?(d=d*t[a],l=l/t[a],_=_/t[a]):a++;return L(_,l,n,c)}function L(e,i,n,c){return e===1&&i===1?(n=`${c}${(parseInt(n)+1).toString()}`,`${n}`):i===0?`${c}${n}`:n=="0"?`${c}${i}/${e}`:`${c}${n} ${i}/${e}`}const T=D(P),F=e=>(b("data-v-5d5aa332"),e=e(),j(),e),q={class:"ingredients"},U=F(()=>o("h2",null,"Ainesosat",-1)),G={class:"ingredient-section"},H={key:0,class:"collection"},Y={class:"name"},z=F(()=>o("div",null," | ",-1)),J={class:"amount"},K={__name:"RecipeIngredients",props:{recipe:{type:Object,required:!0},servings:{type:Number,required:!0}},setup(e){const i=e,n=M(()=>i.servings<1?1/i.recipe.servings:i.servings/i.recipe.servings),c=s=>{s.target.closest(".ingredient").classList.toggle("step-complete")};return(s,t)=>(p(),g("div",q,[U,(p(!0),g(I,null,y(e.recipe.ingredients,a=>(p(),g("ul",G,[e.recipe.ingredients.length>1?(p(),g("p",H,h(a.collectionName),1)):N("",!0),(p(!0),g(I,null,y(a.collectionIngredients,(d,l)=>(p(),g("li",{onClick:c,class:"ingredient"},[o("div",Y,h(d.name),1),z,o("div",J,h(u(T)(d.amount*n.value))+" "+h(d.unit),1)]))),256))]))),256))]))}},Q=k(K,[["__scopeId","data-v-5d5aa332"]]),W=e=>(b("data-v-0419947c"),e=e(),j(),e),X={class:"instructions"},Z=W(()=>o("h2",null,"Ohjeet",-1)),ee={__name:"RecipeInstructions",props:{recipe:{type:Object,required:!0}},setup(e){const i=n=>{n.target.closest(".instruction-step").classList.toggle("step-complete")};return(n,c)=>(p(),g("div",X,[Z,o("ul",null,[(p(!0),g(I,null,y(e.recipe.instructions,(s,t)=>(p(),g("li",{onClick:i,class:"instruction-step"},[o("b",null,"Vaihe "+h(t+1)+":",1),B(" "+h(s),1)]))),256))])]))}},te=k(ee,[["__scopeId","data-v-0419947c"]]),se={class:"recipe-details-section"},ne={class:"recipe-card"},ie={class:"recipe-thumbnail"},re=["src","alt"],oe={class:"recipe-stats"},ce={class:"prep-time"},le={class:"servings-container"},ae={class:"servings"},ue={class:"favorite-container"},pe={class:"recipe-info"},de={class:"tags"},ge={class:"tag"},_e={__name:"RecipeDetailsView",setup(e){const n=E().params.id,c=V(),s=c.getRecipeById(+n);let t=w(s.servings);const a=()=>{t.value++},d=()=>{t.value<=1||t.value--};let l=w(!1);l.value=c.getFavoriteById(+n);const _=()=>{l.value=!l.value,l.value?c.addFavorite(+n):c.removeFavorite(+n)};return(r,f)=>(p(),g("section",se,[o("div",ne,[o("div",ie,[o("img",{src:`${u(A)+u(s).img}`,alt:u(s).title},null,8,re),o("h1",null,h(u(s).title),1)]),o("div",oe,[o("div",ce,[v(u(m),{class:"icon",icon:"mdi:clockwise"}),o("p",null,h(u(s).prepTime),1)]),o("div",le,[o("button",{onClick:d,class:"remove-servings","aria-label":"remove servings"},[v(u(m),{class:"icon",icon:"mdi:minus"})]),o("h2",ae,h(u(t)),1),o("button",{onClick:a,class:"add-servings","aria-label":"add servings"},[v(u(m),{class:"icon",icon:"mdi:plus"})])]),o("div",ue,[o("button",{onClick:_,class:"toggle-favorite","aria-label":"toggle favorite"},[u(l)?(p(),R(u(m),{key:0,class:"icon",icon:"material-symbols:favorite",style:{color:"rgb(200, 50, 50)"}})):(p(),R(u(m),{key:1,class:"icon",icon:"material-symbols:favorite-outline"}))])])]),o("div",pe,[v(Q,{class:"ingredients",recipe:u(s),servings:u(t)},null,8,["recipe","servings"]),v(te,{class:"instructions",recipe:u(s)},null,8,["recipe"])]),o("ul",de,[(p(!0),g(I,null,y(u(s).tags,$=>(p(),g("li",null,[o("span",ge,h($.toUpperCase()),1)]))),256))])])]))}},fe=k(_e,[["__scopeId","data-v-cfe5cfe0"]]);export{fe as default};

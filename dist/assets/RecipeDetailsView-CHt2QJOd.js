import{_ as y,b as M,o as d,c as g,F as m,r as $,t as h,d as k,a as c,u,p as R,e as j,f as b,g as V,h as D,i as F,j as v,I as S}from"./index-DSqiwRC5.js";function E(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O=function(e){let i;if(e<0?(e=Math.abs(e),i="-"):i="",e===void 0)return"Your input was undefined.";if(isNaN(e))return`"${e}" is not a number.`;if(e==1e16)return`${i}9999999999999999`;if(e>1e16)return"Too many digits in your integer to maintain IEEE 754 Floating Point conversion accuracy.";if(Number.isInteger(e))return`${i}${e}`;if(e<1e-6)return"0";const r=e.toString(),o=r.split(".");let s=o[0],t;if(t=="0"&&s!=="0")return s;if(t=="0"&&s=="0")return"0";if(r.length>=17?t=o[1].slice(0,o[1].length-1):t=o[1],t=="99"&&s!=="0")return`${s} 99/100`;if(t=="99"&&s=="0")return"99/100";if(1-parseFloat(`.${t}`)<.0011&&(t="999"),t==null)return s;const l=t.split("").reverse().join(""),p=/^(\d+)\1{1,2}/;let a=l.match(p);if(a&&t.length>2){let _=a[0].split("").reverse().join(""),n=a[1].split("").reverse().join("");if(n.length>1){let f=n.split(""),w=1;for(let I=0;I<f.length;I++)w/=f[0]/f[I];w===1&&(n=f[0])}return n.length>1&&n.length%2===0&&(n=parseInt(n.slice(0,n.length/2),10)-parseInt(n.slice(n.length/2,n.length),10)===0?n.slice(0,n.length/2):n),P(t,n,_,s,i)}else return x(t,s,i)};function P(e,i,r,o,s){const l=e.length-r.length>=1?e.length-r.length:1,p=Math.pow(10,l),a=parseFloat(`0.${e}`),_=Math.pow(10,i.length),n=Math.round((a*_-a)*Math.pow(10,l)),f=(_-1)*p;return N(n,f,o,s,!0)}function x(e,i,r){const s=parseInt(e,10),t=Math.pow(10,e.length);return N(s,t,i,r,!1)}function N(e,i,r,o,s){const t=[2,3,5];if(s===!0)for(let n=3;n*n<=e;n+=2)e%n===0&&t.push(n);let l=0,p=1,a=e,_=i;for(;l<=t.length;)a%t[l]===0&&_%t[l]===0?(p=p*t[l],a=a/t[l],_=_/t[l]):l++;return B(_,a,r,o)}function B(e,i,r,o){return e===1&&i===1?(r=`${o}${(parseInt(r)+1).toString()}`,`${r}`):i===0?`${o}${r}`:r=="0"?`${o}${i}/${e}`:`${o}${r} ${i}/${e}`}const L=E(O),C=e=>(R("data-v-06667375"),e=e(),j(),e),q={class:"ingredients"},A=C(()=>c("h2",null,"Ainesosat",-1)),T={class:"ingredient-section"},U={key:0,class:"collection"},Y={class:"name"},z=C(()=>c("div",null," | ",-1)),G={class:"amount"},H={__name:"RecipeIngredients",props:{recipe:{type:Object,required:!0},servings:{type:Number,required:!0}},setup(e){const i=e,r=M(()=>i.servings/i.recipe.servings),o=s=>{s.target.closest(".ingredient").classList.toggle("step-complete")};return(s,t)=>(d(),g("div",q,[A,(d(!0),g(m,null,$(e.recipe.ingredients,l=>(d(),g("ul",T,[e.recipe.ingredients.length>1?(d(),g("p",U,h(l.collectionName),1)):k("",!0),(d(!0),g(m,null,$(l.collectionIngredients,(p,a)=>(d(),g("li",{onClick:o,class:"ingredient"},[c("div",Y,h(p.name),1),z,c("div",G,h(u(L)(p.amount*r.value))+" "+h(p.unit),1)]))),256))]))),256))]))}},J=y(H,[["__scopeId","data-v-06667375"]]),K=e=>(R("data-v-f532abf6"),e=e(),j(),e),Q={class:"instructions"},W=K(()=>c("h2",null,"Ohjeet",-1)),X={__name:"RecipeInstructions",props:{recipe:{type:Object,required:!0}},setup(e){const i=r=>{r.target.closest(".instruction-step").classList.toggle("step-complete")};return(r,o)=>(d(),g("div",Q,[W,c("ul",null,[(d(!0),g(m,null,$(e.recipe.instructions,(s,t)=>(d(),g("li",{onClick:i,class:"instruction-step"},[c("b",null,"Vaihe "+h(t+1)+":",1),b(" "+h(s),1)]))),256))])]))}},Z=y(X,[["__scopeId","data-v-f532abf6"]]),ee={class:"recipe-details-section"},te={class:"recipe-card"},se={class:"recipe-thumbnail"},ne=["src","alt"],ie={class:"recipe-stats"},re={class:"prep-time"},ce={class:"servings-container"},oe={class:"servings"},le={class:"recipe-info"},ae={class:"tags"},ue={class:"tag"},pe={__name:"RecipeDetailsView",setup(e){const r=V().params.id,s=D().getRecipeById(+r);let t=F(s.servings);const l=()=>{t.value++},p=()=>{t.value<=1||t.value--};return(a,_)=>(d(),g("section",ee,[c("div",te,[c("div",se,[c("img",{src:"/images/"+u(s).img,alt:u(s).title},null,8,ne),c("h1",null,h(u(s).title),1)]),c("div",ie,[c("div",re,[v(u(S),{class:"icon",icon:"mdi:clockwise"}),c("p",null,h(u(s).prepTime),1)]),c("div",ce,[c("button",{onClick:p,class:"remove-servings","aria-label":"remove servings"},[v(u(S),{class:"icon",icon:"mdi:minus"})]),c("h2",oe,h(u(t)),1),c("button",{onClick:l,class:"add-servings","aria-label":"add servings"},[v(u(S),{class:"icon",icon:"mdi:plus"})])])]),c("div",le,[v(J,{class:"ingredients",recipe:u(s),servings:u(t)},null,8,["recipe","servings"]),v(Z,{class:"instructions",recipe:u(s)},null,8,["recipe"])]),c("ul",ae,[(d(!0),g(m,null,$(u(s).tags,n=>(d(),g("li",null,[c("span",ue,h(n.toUpperCase()),1)]))),256))])])]))}},ge=y(pe,[["__scopeId","data-v-25c04d52"]]);export{ge as default};
